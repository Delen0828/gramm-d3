{"schema":"https://vega.github.io/schema/vega/v6.json","width":560,"height":420,"padding":{"left":60,"right":120,"top":20,"bottom":60},"autosize":"none","data":[{"name":"table","values":[{"x":1,"y":10,"color":"4"},{"x":2,"y":15,"color":"6"},{"x":3,"y":12,"color":"8"},{"x":4,"y":18,"color":"4"},{"x":1,"y":8,"color":"6"},{"x":2,"y":20,"color":"8"},{"x":3,"y":14,"color":"4"},{"x":4,"y":22,"color":"6"},{"x":1,"y":16,"color":"8"},{"x":2,"y":25,"color":"4"},{"x":3,"y":11,"color":"6"},{"x":4,"y":19,"color":"8"}]}],"scales":[{"name":"xscale","type":"band","domain":{"data":"table","field":"x","sort":true},"range":"width","padding":0.2},{"name":"yscale","type":"linear","domain":{"data":"table","field":"y"},"range":"height","round":true,"zero":true,"nice":true},{"name":"color","type":"ordinal","domain":{"data":"table","field":"color"},"range":["#fc4464","#08bc4d","#04b0fc","#ff9500","#9b59b6","#e74c3c","#2ecc71","#3498db"]}],"axes":[{"orient":"bottom","scale":"xscale","tickSize":0,"labelPadding":4,"zindex":1,"title":"x-axis"},{"orient":"left","scale":"yscale","title":"y-axis"}],"marks":[{"type":"group","from":{"facet":{"data":"table","name":"facet","groupby":"x"}},"encode":{"enter":{"x":{"scale":"xscale","field":"x"}}},"signals":[{"name":"width","update":"bandwidth('xscale')"}],"scales":[{"name":"pos","type":"band","range":"width","domain":{"data":"facet","field":"color"}}],"marks":[{"name":"bars","from":{"data":"facet"},"type":"rect","encode":{"enter":{"x":{"scale":"pos","field":"color"},"width":{"scale":"pos","band":1},"y":{"scale":"yscale","field":"y"},"y2":{"scale":"yscale","value":0},"fill":{"scale":"color","field":"color"}}}}]}],"legends":[{"fill":"color","orient":"right","padding":10,"cornerRadius":5,"strokeColor":"#ddd","fillColor":"#fff","title":"Color","titlePadding":5,"titleFontSize":12,"titleFontWeight":"bold","labelFontSize":11,"symbolSize":100,"symbolType":"circle"}]}